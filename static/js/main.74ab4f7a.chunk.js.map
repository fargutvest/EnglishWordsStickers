{"version":3,"sources":["App.module.css","Header/Header.module.css","Assets/google.svg","ErrorBar/ErrorBar.module.css","Assets/github.svg","Assets/youtube.svg","Navbar/Navbar.module.css","Assets/preloader.svg","Components/Preloader/Preloader.module.css","List/List.module.css","Phrasebooks/Phrasebooks.module.css","Content/Content.module.css","Footer/Footer.module.css","Common.module.css","utils/htmlToPdf.js","utils/validators.js","hoc/withInitialValue.js","Components/FormsControls/FormsControls.js","ReadSpreadsheet/ReadPhrasebookByIdForm.js","ReadSpreadsheet/ReadSpreadsheet.js","iframes/iframe.js","API/GDriveAPI.js","redux/spreadsheet-reducer.js","API/GSheetsAPI.js","redux/error-reducer.js","redux/stickers-reducer.js","redux/stickers-selectors.js","redux/spreadsheet-selectors.js","ReadSpreadsheet/ReadSpreadsheetContainter.js","Header/Header.js","API/GAPI.js","SignInWithGoogle/SignInWithGoogle.js","redux/signin-reducer.js","redux/signin-selectors.js","SignInWithGoogle/SigninWitGoogleContainer.js","ErrorBar/ErrorBar.js","redux/error-selectors.js","ErrorBar/ErrorBarContainer.js","Social/SocialUrl.js","Navbar/Navbar.jsx","Stickers/Sticker/Sticker.js","Stickers/Stickers.js","Components/Preloader/Preloader.js","Stickers/StickersContainer.js","List/List.js","List/ListContainer.js","Phrasebooks/Phrasebooks.js","redux/gdrive-reducer.js","redux/phrasebooks.js","Phrasebooks/PhrasebooksContainer.js","Tabs/Tabs.js","Content/Content.jsx","Footer/Footer.jsx","App.js","redux/store-redux.js","index.js","Stickers/Sticker/Sticker.module.css","Tabs/Tabs.module.css","ReadSpreadsheet/ReadSpreadsheet.module.css","Components/FormsControls/FormControls.module.css","SignInWithGoogle/SignInWithGoogle.module.css","Stickers/Stickers.module.css","Video/Video.module.css"],"names":["module","exports","cropPage","canvas","pageHeight","offset","pageData","getContext","getImageData","width","pageCanvas","document","createElement","pageContext","height","putImageData","length","Component","inputRef","React","createRef","Input","input","meta","label","props","hasError","touched","error","className","s","formControl","ref","value","undefined","required","lenght44","reduxForm","form","handleSubmit","onChangeSpreadsheetId","onSubmit","Field","name","validate","component","onChange","floatRight","cs","button","this","setInitialValue","ReadSpreadsheet","updateSpreadsheetId","getLatestSpreadsheetId","getStickers","spreadseetId","pdf","bar","values","spreadsheetId","current","e","target","id","onClick","source","iframe","setAttribute","body","appendChild","src","generate","pageHeightPixels","pageOrientation","fileName","downloadImmediately","a","async","numPages","scrollHeight","Math","floor","html2canvas","windowHeight","pagesCanvases","i","push","jsPDF","orientation","compress","addPage","imgData","toDataURL","addImage","save","output","htmlToPdf","orderByCreatedTime","arr","n","j","Date","parse","createdTime","temp","getLastCreatedFile","files","sorted","listFiles","success","window","gapi","client","drive","list","q","response","result","initialState","localStorage","getItem","newSpreadseetId","type","spreadsheetReducer","state","action","setItem","getValues","fail","sheets","spreadsheets","get","range","message","updateError","newError","errorReducer","initialStickers","content","English","Spelling","Russian","isMouseOver","isStudied","stickers","isFetchingStickers","dispatch","updateIsFetchingStickers","lastCreatedFile","spreadsheetLines","getValuesSuccess","getValuesError","map","lineCells","index","updateStickers","newStickers","stickersReducer","newPdf","copy","sticker","stickerId","getIsFetchingStickers","stickersPage","getPdfRef","getStickersSelector","createSelector","filter","getSpreadseetId","spreadsheetPage","ReadSpreadsheetContainter","connect","ReadSpreadsheat","Header","header","DISCOVERY_DOCS","getInstance","auth2","getAuthInstance","initGAPI","observer","init","apiKey","clientId","discoveryDocs","scope","getProfile","currentUser","getBasicProfile","listenAuth2","isSignedIn","listen","getIsSignedIn","signInAuth2","signIn","signOutAuth2","signOut","loadAuth2","load","SignInWithGoogle","initClient","updateSigninStatus","showError","JSON","stringify","profile","updateProfile","updateIsSignedIn","google_button","class","google_button_icon","google","alt","google_button_text","getName","align","getImageUrl","getUserInfo","getButton","signinReducer","signInPage","SigninWithGoogleContainer","SigninWithGoogle","ErrorBar","errorBar","getErrorSelector","errorPage","ErrorBarContainer","SocialUrl","url","icon","href","Navbar","navbar","youtube","github","Sticker","onMouseOver","onMouseLeave","onStudied","mouseOver","MouseOver","studied","Studied","Part","pdfRef","Stickers","stickersCounter","stickersRow","forEach","mouseOverSticker","mouseLeaveSticker","studiedSticker","StickersRow","updatePdf","main","pdfContent","buildStickersPage","Preloader","preloader","StickersContainer","info","List","key","ListContainer","Phrasebooks","onClikCleanPhrasebookFiles","cleanPhrasebookFiles","phrasebookFilesTree","allPhrasebookFiles","filesList","latestPhrasebookFile","modifiedTime","file","item","renderFiles","remove","updatePhrasebookFiles","gdriveReducer","getPhrasebookFilesTree","filesListPage","PhrasebookContainer","getPhrasebookFiles","PhrasebooksContainer","latest","filesToClean","delete","execute","resp","console","log","cleanFiles","Tabs","tabpanel","tab","exact","to","activeClassName","active","tabcontent","path","render","Content","Footer","footer","App","app_wrapper","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","rerender","ReactDOM","getElementById","subscribe"],"mappings":"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","file":"static/js/main.74ab4f7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__3BVir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Y0YH\"};","module.exports = __webpack_public_path__ + \"static/media/google.4775cb59.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBar\":\"ErrorBar_errorBar__hfDDg\"};","module.exports = __webpack_public_path__ + \"static/media/github.486fae37.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube.87146816.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__29QO-\",\"youtubelink\":\"Navbar_youtubelink__3a4BF\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.6e7c9db7.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__38E7s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"List_main__qyTkb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Phrasebooks_main__3efcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2JmfF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1UWS6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Common_button__1-JGS\",\"remove\":\"Common_remove__2n98a\"};","import html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\n\r\nexport let htmlToPdf = async (pageHeightPixels, pageOrientation, input, fileName, downloadImmediately) => {\r\n    const numPages = input.scrollHeight <= pageHeightPixels ? 1 : Math.floor(input.scrollHeight / pageHeightPixels) + 1;\r\n\r\n    const canvas = await html2canvas(input, { windowHeight: input.scrollHeight });\r\n\r\n    var pagesCanvases = [];\r\n\r\n    for (var i = 0; i < numPages; i++) {\r\n        var pageCanvas = cropPage(canvas, pageHeightPixels, pageHeightPixels * i);\r\n        pagesCanvases.push(pageCanvas)\r\n    }\r\n\r\n    let pdf = new jsPDF({\r\n        orientation: pageOrientation,\r\n        compress: true\r\n    });\r\n\r\n    for (var i = 0; i < pagesCanvases.length; i++) {\r\n        var pageCanvas = pagesCanvases[i];\r\n        if (i > 0) {\r\n            pdf.addPage();\r\n        }\r\n\r\n        const imgData = pageCanvas.toDataURL('image/png');\r\n        pdf.addImage(imgData, 'PNG', 0, 0);\r\n    }\r\n\r\n    if (downloadImmediately){\r\n        pdf.save(fileName);\r\n    }\r\n\r\n    return pdf.output(fileName);\r\n    \r\n}\r\n\r\nfunction cropPage(canvas, pageHeight, offset) {\r\n    var context = canvas.getContext(\"2d\");\r\n    var pageData = context.getImageData(0, offset, canvas.width, pageHeight);\r\n\r\n    var pageCanvas = document.createElement(\"canvas\");\r\n    var pageContext = pageCanvas.getContext(\"2d\");\r\n\r\n    pageCanvas.width = canvas.width;\r\n    pageCanvas.height = pageHeight;\r\n    pageContext.putImageData(pageData, 0, 0);\r\n\r\n    return pageCanvas;\r\n}\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const lenghtCreator = (length) => (value) => {\r\n    if (value && value.length > length) return `Length more than ${length} symbols`;\r\n    if (value && value.length < length) return `Length less than ${length} symbols`;\r\n\r\n    return undefined\r\n}\r\n","import React from 'react';\r\n\r\nexport const withInitialValue = (Component) => {\r\n\r\n    return class WithInitialValue extends React.Component {\r\n\r\n        componentDidUpdate(){\r\n            this.props.setInitialValue();\r\n        }\r\n\r\n        render() {\r\n            \r\n            return (\r\n                <Component {...this.props} />\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\nimport s from './FormControls.module.css'\r\n\r\nexport const inputRef = React.createRef();\r\n\r\nexport const Input = ({ input, meta, label, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            {label ? <label className=\"w3-text-white\"><b>{label}</b></label> : \"\"}\r\n            {hasError ? <span className={`${s.formControl} ${s.error}`}>{meta.error}</span> : \"\"}\r\n            <input className={`w3-input w3-border ${s.formControl} ${hasError ? s.error : \"\"}`} ref={inputRef} {...input} value={undefined} {...props} />\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required, lenghtCreator } from './../utils/validators.js'\r\nimport { Input } from './../Components/FormsControls/FormsControls.js'\r\nimport { withInitialValue } from './../hoc/withInitialValue'\r\nimport s from './ReadSpreadsheet.module.css'\r\nimport cs from './../Common.module.css'\r\n\r\nconst lenght44 = lenghtCreator(44);\r\n\r\nconst ReadPhrasebookByIdForm = ({ handleSubmit, onChangeSpreadsheetId }) => {\r\n\r\n    return <form onSubmit={handleSubmit}>\r\n        <div className={s.form}>\r\n            <Field name=\"spreadsheetId\" label=\"Phrasebook ID: \" validate={[required, lenght44]} component={Input} onChange={onChangeSpreadsheetId} />\r\n            <div className={s.floatRight}>\r\n                <button className={cs.button} >Read specified phrasebook</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n}\r\n\r\n\r\nexport default reduxForm({ form: \"ReadPhrasebookById\" })(withInitialValue(ReadPhrasebookByIdForm));","import React, { Component } from 'react';\r\nimport s from './ReadSpreadsheet.module.css'\r\nimport cs from './../Common.module.css'\r\nimport { htmlToPdf } from './../utils/htmlToPdf'\r\nimport { inputRef } from './../Components/FormsControls/FormsControls.js'\r\nimport ReadPhrasebookByIdFormRedux from './ReadPhrasebookByIdForm'\r\nimport {generate} from './../iframes/iframe'\r\n\r\nconst pageHeightPixels = 750;\r\nconst pdfFileName = \"Stickers to print.pdf\";\r\nconst pageOrientation = \"landscape\";\r\n\r\n\r\nconst ReadSpreadsheet = ({ updateSpreadsheetId, getLatestSpreadsheetId, getStickers, spreadseetId, pdf }) => {\r\n\r\n  let onChangeSpreadsheetId = (e) => {\r\n    updateSpreadsheetId(e.target.value);\r\n  }\r\n\r\n  let handleGetNewestSpreadsheetIdClick = () => {\r\n    getLatestSpreadsheetId();\r\n  }\r\n\r\n  let handleOnSubmit = (values) => {\r\n    getStickers(values.spreadsheetId);\r\n  }\r\n\r\n\r\n  let onClickPdf = () => {\r\n    var iframeSource = htmlToPdf(pageHeightPixels, pageOrientation, pdf.current, pdfFileName, false);\r\n    generate(iframeSource);\r\n  }\r\n\r\n  let setInitialValue = () => {\r\n    if (spreadseetId) {\r\n      inputRef.current.value = spreadseetId;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={s.bar}>\r\n      <ReadPhrasebookByIdFormRedux onSubmit={handleOnSubmit} setInitialValue={setInitialValue} onChangeSpreadsheetId={onChangeSpreadsheetId} />\r\n      <button id=\"read_spreadsheet\" className={cs.button} onClick={handleGetNewestSpreadsheetIdClick}>Get newest phrasebook ID</button>\r\n      <button id=\"pdf\" className={cs.button} onClick={onClickPdf}>Dowdload stickers in pdf</button>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default ReadSpreadsheet;","export let generate = (source) => {\r\n\tvar iframe = document.createElement('iframe');\r\n\tiframe.setAttribute('style', 'position:absolute;right:0; top:0; bottom:0; height:100%; width:1500px; padding:20px;');\r\n\tdocument.body.appendChild(iframe);\r\n\r\n\tiframe.src = source;\r\n};","const rus = \"Сохраненные переводы\";\r\nconst eng = \"Saved translations\";\r\n\r\nlet orderByCreatedTime = (arr) => {\r\n    let n = arr.length;\r\n    for (var i = 0; i < n - 1; i++) {\r\n        for (var j = 0; j < n - i - 1; j++) {\r\n            if ((Date.parse(arr[j].createdTime) > Date.parse(arr[j + 1].createdTime))) {\r\n                let temp = arr[j];\r\n                arr[j] = arr[j + 1];\r\n                arr[j + 1] = temp;\r\n            }\r\n        }\r\n    }\r\n    return arr;\r\n}\r\n\r\nexport let getLastCreatedFile = (files) => {\r\n    var sorted = orderByCreatedTime(files);\r\n    return sorted[sorted.length - 1];\r\n}\r\n\r\nexport let listFiles = async (success) => {\r\n    const response = await window.gapi.client.drive.files.list({\r\n        'pageSize': 100,\r\n        q: \"mimeType='application/vnd.google-apps.spreadsheet'\",\r\n        q: `name='${eng}' or name='${rus}'`,\r\n        'fields': \"nextPageToken, files(id, name, createdTime, modifiedTime)\"\r\n    });\r\n    success(response.result.files);\r\n}\r\n\r\n\r\nexport let cleanFiles = (filesList) => {\r\n    var sorted = orderByCreatedTime(filesList);\r\n\r\n    for (var i = 0; i < sorted.length - 1; i++) {\r\n        var request = window.gapi.client.drive.files.delete({\r\n            'fileId': sorted[i].id\r\n        });\r\n        request.execute(function (resp) {\r\n            console.log(resp);\r\n        });\r\n    }\r\n}\r\n","import { listFiles, getLastCreatedFile } from '../API/GDriveAPI'\r\n\r\nexport const UPDATE_SPREADSHEET_ID = 'UPDATE_SPREADSHEET_ID';\r\n\r\nvar initialState = {\r\n    spreadseetId: localStorage.getItem(UPDATE_SPREADSHEET_ID)\r\n}\r\n\r\nconst spreadsheetReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_SPREADSHEET_ID:\r\n            localStorage.setItem(UPDATE_SPREADSHEET_ID, action.newSpreadseetId);\r\n            return { ...state, spreadseetId: action.newSpreadseetId }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getLatestSpreadsheetId = () => {\r\n    return (dispatch) => {\r\n        listFiles((files) => {\r\n            var lastCreatedFile = getLastCreatedFile(files);\r\n            dispatch(updateSpreadsheetId(lastCreatedFile.id));\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateSpreadsheetId = (newSpreadseetId) => ({ type: UPDATE_SPREADSHEET_ID, newSpreadseetId: newSpreadseetId });\r\n\r\n\r\nexport default spreadsheetReducer;","const RANGE = \"C:D\";\r\n\r\nexport let getValues = async (spreadsheetId, success, fail) => {\r\n    const response = await window.gapi.client.sheets.spreadsheets.values.get({\r\n        spreadsheetId: spreadsheetId,\r\n        range: RANGE,\r\n    });\r\n\r\n    if (response.result.error) {\r\n        fail(response.result.error.message);\r\n    }\r\n    else {\r\n        success(response.result.values);\r\n    }\r\n}","const UPDATE_ERROR = 'UPDATE_ERROR';\r\n\r\nvar initialState = {\r\n    error: \"\"\r\n}\r\n\r\nconst errorReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_ERROR:\r\n            return { ...state, error: action.newError }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const updateError = (newError) => ({ type: UPDATE_ERROR, newError: newError });\r\n\r\nexport default errorReducer;","import React from 'react';\r\nimport { getValues } from '../API/GSheetsAPI'\r\nimport { listFiles, getLastCreatedFile } from '../API/GDriveAPI'\r\nimport { updateError } from './../redux/error-reducer';\r\nimport { updateSpreadsheetId } from './../redux/spreadsheet-reducer'\r\n\r\nconst UPDATE_PDF = 'UPDATE_PDF';\r\nconst UPDATE_STICKERS = 'UPDATE_STICKERS';\r\nconst MOUSE_OVER = 'MOUSE_OVER';\r\nconst MOUSE_LEAVE = 'MOUSE_LEAVE';\r\nconst STUDIED = 'STUDIED';\r\nconst IS_FETCHING_STICKERS = 'IS_FETCHING_STICKERS';\r\n\r\nexport let initialStickers = [\r\n  {\r\n    content: {\r\n      English: \"Hello\",\r\n      Spelling: \"|həˈloʊ|\",\r\n      Russian: \"Привет\"\r\n    },\r\n    id: 0,\r\n    isMouseOver: false,\r\n    isStudied: false\r\n  }\r\n];\r\n\r\nvar initialState = {\r\n  pdf: React.createRef(),\r\n  stickers: initialStickers,\r\n  isFetchingStickers: false\r\n}\r\n\r\n\r\nconst stickersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_PDF:\r\n      return { ...state, pdf: action.newPdf }\r\n    case UPDATE_STICKERS:\r\n      return { ...state, stickers: action.newStickers }\r\n    case MOUSE_OVER:\r\n      let copy = {\r\n        ...state, stickers: state.stickers.map(sticker => {\r\n          if (action.stickerId === sticker.id) {\r\n            return { ...sticker, isMouseOver: true }\r\n          }\r\n          return sticker;\r\n        })\r\n      }\r\n      return copy;\r\n    case MOUSE_LEAVE:\r\n      return {\r\n        ...state, stickers: state.stickers.map(sticker => {\r\n          if (action.stickerId === sticker.id) {\r\n            return { ...sticker, isMouseOver: false }\r\n          }\r\n          return sticker;\r\n        })\r\n      }\r\n    case STUDIED:\r\n      return {\r\n        ...state, stickers: state.stickers.map(sticker => {\r\n          if (action.stickerId === sticker.id) {\r\n            return { ...sticker, isStudied: action.isStudied }\r\n          }\r\n          return sticker;\r\n        })\r\n      }\r\n    case IS_FETCHING_STICKERS:\r\n      return {\r\n        ...state, isFetchingStickers: action.isFetchingStickers\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const getStickers = (spreadsheetId = null) => {\r\n  return (dispatch) => {\r\n    dispatch(updateIsFetchingStickers(true));\r\n\r\n    if (spreadsheetId === null) {\r\n      listFiles((files) => {\r\n        var lastCreatedFile = getLastCreatedFile(files);\r\n        dispatch(updateSpreadsheetId(lastCreatedFile.id));\r\n        getValues(lastCreatedFile.id,\r\n          (spreadsheetLines) => { getValuesSuccess(spreadsheetLines, dispatch) },\r\n          (message) => { getValuesError(message, dispatch); });\r\n      });\r\n    }\r\n    else {\r\n      getValues(spreadsheetId,\r\n        (spreadsheetLines) => { getValuesSuccess(spreadsheetLines, dispatch) },\r\n        (message) => { getValuesError(message, dispatch); });\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst getValuesSuccess = (spreadsheetLines, dispatch) => {\r\n  dispatch(updateError(spreadsheetLines.length > 0 ? \"\" : \"No data found.\"));\r\n\r\n  var stickers = spreadsheetLines.map((lineCells, index) => {\r\n    return {\r\n      content: {\r\n        English: lineCells[0],\r\n        Spelling: \"---\",\r\n        Russian: lineCells[1]\r\n      },\r\n      id: index,\r\n      isMouseOver: false,\r\n      isStudied: false\r\n    }\r\n  });\r\n  dispatch(updateIsFetchingStickers(false));\r\n  dispatch(updateStickers(stickers));\r\n}\r\n\r\nconst getValuesError = (message, dispatch) => {\r\n  dispatch(updateError(\"Error\" + message));\r\n  dispatch(updateIsFetchingStickers(false));\r\n}\r\n\r\n\r\nexport const updatePdf = (newPdf) => ({ type: UPDATE_PDF, newPdf: newPdf });\r\nexport const updateStickers = (newStickers) => ({ type: UPDATE_STICKERS, newStickers: newStickers });\r\nexport const mouseOverSticker = (stickerId) => ({ type: MOUSE_OVER, stickerId: stickerId });\r\nexport const mouseLeaveSticker = (stickerId) => ({ type: MOUSE_LEAVE, stickerId: stickerId });\r\nexport const studiedSticker = (info) => ({ type: STUDIED, stickerId: info.stickerId, isStudied: info.isStudied });\r\nexport const updateIsFetchingStickers = (isFetchingStickers) => ({ type: IS_FETCHING_STICKERS, isFetchingStickers: isFetchingStickers });\r\n\r\nexport default stickersReducer;","import {createSelector} from \"reselect\";\r\n\r\nlet getStickers = (state) =>{\r\n    return state.stickersPage.stickers;\r\n}\r\n\r\nexport let getIsFetchingStickers = (state) =>{\r\n    return state.stickersPage.isFetchingStickers;\r\n}\r\n\r\nexport let getPdfRef = (state) =>{\r\n    return state.stickersPage.pdf;\r\n}\r\n\r\nexport const getStickersSelector = createSelector(getStickers,\r\n    (stickers) => {\r\n    return stickers.filter(s => true);\r\n})","export let getSpreadseetId = (state) => {\r\n    return state.spreadsheetPage.spreadseetId;\r\n}","import React from 'react';\r\nimport ReadSpreadsheat from './ReadSpreadsheet'\r\nimport { getLatestSpreadsheetId, updateSpreadsheetId } from '../redux/spreadsheet-reducer'\r\nimport { getStickers } from '../redux/stickers-reducer'\r\nimport { connect } from 'react-redux';\r\nimport { getPdfRef } from '../redux/stickers-selectors';\r\nimport { getSpreadseetId } from '../redux/spreadsheet-selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        pdf: getPdfRef(state),\r\n        spreadseetId: getSpreadseetId(state)\r\n    }\r\n}\r\n\r\nconst ReadSpreadsheetContainter = connect(mapStateToProps, { getStickers, getLatestSpreadsheetId, updateSpreadsheetId })(ReadSpreadsheat);\r\n\r\n\r\nexport default ReadSpreadsheetContainter;","import React, { Component } from 'react';\r\nimport ReadSpreadsheetContainter from './../ReadSpreadsheet/ReadSpreadsheetContainter'\r\nimport s from './Header.module.css'\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        return (\r\n            <div className={s.header}>\r\n                <ReadSpreadsheetContainter/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","const CLIENT_ID = \"722524747087-sgjsjequa1sv10c8m3g9fl6gtqoa39eg.apps.googleusercontent.com\";\r\nconst API_KEY = \"AIzaSyANRAmPJFTjvI2lxfJpq82rd4SHtpBdKY0\";\r\nconst DISCOVERY_DOCS = [\"https://sheets.googleapis.com/$discovery/rest?version=v4\", \"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest\"];\r\nconst SCOPES = \"https://www.googleapis.com/auth/drive.metadata\";\r\n\r\nlet getInstance = () =>{\r\n    return window.gapi.auth2.getAuthInstance();\r\n} \r\n\r\nexport let initGAPI = async (observer) => {\r\n    await window.gapi.client.init({\r\n        apiKey: API_KEY,\r\n        clientId: CLIENT_ID,\r\n        discoveryDocs: DISCOVERY_DOCS,\r\n        scope: SCOPES\r\n    });\r\n}\r\n\r\n\r\nexport let getProfile = () => {\r\n    const googleUser = getInstance().currentUser.get();\r\n    const profile = googleUser.getBasicProfile();\r\n    return profile;\r\n}\r\n\r\n\r\nexport let listenAuth2 = (observer) => {\r\n    getInstance().isSignedIn.listen(observer);\r\n}\r\n\r\nexport let getIsSignedIn = () =>{\r\n   return window.gapi.auth2.getAuthInstance().isSignedIn.get();\r\n}\r\n\r\n\r\nexport let signInAuth2 = () => {\r\n    getInstance().signIn();\r\n}\r\n\r\nexport let signOutAuth2 = () => {\r\n    getInstance().signOut();\r\n}\r\n\r\nexport let loadAuth2 = (observer) => {\r\n    window.gapi.load('client:auth2', observer);\r\n}","import React, { Component } from 'react';\r\nimport s from './SignInWithGoogle.module.css';\r\nimport cs from './../Common.module.css';\r\nimport { initGAPI, getProfile, signInAuth2, signOutAuth2, loadAuth2, listenAuth2, getIsSignedIn } from './../API/GAPI';\r\nimport google from './../Assets/google.svg'\r\n\r\n//todo: need to remove token.pickle\r\n\r\nclass SignInWithGoogle extends Component {\r\n\r\n  initClient = async () => {\r\n    try {\r\n      await initGAPI();\r\n      listenAuth2(this.updateSigninStatus);\r\n      this.updateSigninStatus(getIsSignedIn());\r\n      this.showError(\"\");\r\n\r\n    }\r\n    catch (error) {\r\n      this.showError(JSON.stringify(error, null, 2));\r\n    }\r\n  }\r\n\r\n\r\n  updateSigninStatus = (isSignedIn) => {\r\n    var profile;\r\n    if (isSignedIn) {\r\n      profile = getProfile();\r\n    }\r\n\r\n    this.props.updateProfile(profile);\r\n\r\n    this.props.updateIsSignedIn(isSignedIn);\r\n  }\r\n\r\n\r\n\r\n  async componentDidMount() {\r\n    loadAuth2(await this.initClient)\r\n  }\r\n\r\n  showError = (message) => {\r\n    this.props.updateError(message);\r\n  }\r\n\r\n  getButton() {\r\n    var signIn = (\r\n      <button type=\"button\" className={s.google_button} onClick={signInAuth2}>\r\n        <span class={s.google_button_icon}>\r\n          <img src={google} alt=\"google\" />\r\n        </span>\r\n        <span class={s.google_button_text}>Sign in with Google</span>\r\n      </button>\r\n    );\r\n\r\n    var signOut = <button className={cs.button} onClick={signOutAuth2}>Sign Out</button>;\r\n\r\n    return this.props.isSignedIn ? signOut : signIn;\r\n  }\r\n\r\n  getUserInfo() {\r\n    if (this.props.profile) {\r\n      return (\r\n        <div>\r\n          <label className=\"w3-text-white\">{this.props.profile.getName()}</label>\r\n          <p align=\"center\">\r\n            <img width=\"50px\" height=\"50px\" alt=\"Avatar\" src={this.props.profile.getImageUrl()} />\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n    return '';\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div align=\"center\">\r\n        {this.getUserInfo()}\r\n        <p>\r\n          {this.getButton()}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default SignInWithGoogle;","const UPDATE_IS_SIGNED_IN = 'UPDATE_IS_SIGNED_IN';\r\nconst UPDATE_PROFILE = 'UPDATE_PROFILE';\r\n\r\nvar initialState = {\r\n    isSignedIn: false,\r\n    profile: ''\r\n}\r\n\r\nconst signinReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_IS_SIGNED_IN:\r\n            return { ...state, isSignedIn: action.isSignedIn }\r\n        case UPDATE_PROFILE:\r\n            return { ...state, profile: action.profile }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const updateIsSignedIn = (isSignedIn) => ({ type: UPDATE_IS_SIGNED_IN, isSignedIn: isSignedIn });\r\nexport const updateProfile = (profile) => ({ type: UPDATE_PROFILE, profile: profile });\r\n\r\nexport default signinReducer;","export let getProfile = (state) => {\r\n    return state.signInPage.profile;\r\n}\r\n\r\nexport let getIsSignedIn = (state) => {\r\n    return state.signInPage.isSignedIn;\r\n}","import React from 'react';\r\nimport SigninWithGoogle from './SignInWithGoogle'\r\nimport { updateIsSignedIn, updateProfile } from './../redux/signin-reducer'\r\nimport { updateError } from './../redux/error-reducer'\r\nimport { connect } from 'react-redux'\r\nimport { getProfile, getIsSignedIn } from '../redux/signin-selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: getProfile(state),\r\n        isSignedIn: getIsSignedIn(state)\r\n    }\r\n}\r\n\r\n\r\nconst SigninWithGoogleContainer = connect(mapStateToProps, { updateError, updateProfile, updateIsSignedIn })(SigninWithGoogle);\r\n\r\nexport default SigninWithGoogleContainer;\r\n\r\n","import React, { Component } from 'react';\r\nimport s from './ErrorBar.module.css';\r\n\r\n\r\nclass ErrorBar extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.errorBar}>\r\n                <p align=\"center\">\r\n                    {this.props.error}\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ErrorBar;","export let getErrorSelector = (state) =>{\r\n    return state.errorPage.error;\r\n}","import React from 'react';\r\nimport ErrorBar from './ErrorBar'\r\nimport { connect } from 'react-redux'\r\nimport { getErrorSelector } from '../redux/error-selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        error: getErrorSelector(state)\r\n    }\r\n}\r\n\r\nconst ErrorBarContainer = connect(mapStateToProps, {})(ErrorBar);\r\n\r\nexport default ErrorBarContainer;","import React, { Component } from 'react';\r\n\r\nconst SocialUrl = ({ url, icon }) => {\r\n  return (\r\n    <a href={url}>\r\n      <img src={icon} />\r\n    </a>\r\n  )\r\n}\r\n\r\n\r\nexport default SocialUrl;","import React, { Component } from 'react';\r\nimport SigninWithGoogleContainer from '../SignInWithGoogle/SigninWitGoogleContainer';\r\nimport ErrorBarContainer from '../ErrorBar/ErrorBarContainer';\r\nimport SocialUrl from './../Social/SocialUrl'\r\nimport github from './../Assets/github.svg'\r\nimport youtube from './../Assets/youtube.svg'\r\nimport s from './Navbar.module.css';\r\n\r\n\r\nclass Navbar extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.navbar}>\r\n                <p align=\"center\">\r\n                    <SigninWithGoogleContainer />\r\n                    <p>\r\n                        <ErrorBarContainer />\r\n                    </p>\r\n                    <p>\r\n                        <SocialUrl url=\"https://www.youtube.com/watch?v=C-FKXagcLRQ&list=PLQPXxMwGR_nkJyvzRnj8NGgHwgvpdipy4\" icon={youtube} />\r\n                    </p>\r\n                    <p>\r\n                        <SocialUrl url=\"https://github.com/fargutvest/EnglishWordsStickers\" icon={github} />\r\n                    </p>\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React, { Component } from 'react';\r\nimport s from './Sticker.module.css';\r\n\r\n\r\nconst Sticker = ({ onMouseOver, onMouseLeave, onStudied, sticker }) => {\r\n\r\n  let onMouseOverHandler = () => {\r\n    onMouseOver(sticker.id);\r\n  }\r\n\r\n  let onMouseLeaveHandler = () => {\r\n    onMouseLeave(sticker.id);\r\n  }\r\n\r\n  let onClickHandler = () => {\r\n    onStudied({ stickerId: sticker.id, isStudied: !sticker.isStudied })\r\n  }\r\n\r\n  var mouseOver = sticker.isMouseOver ? s.MouseOver : \"\";\r\n  var studied = sticker.isStudied ? s.Studied : \"\"\r\n\r\n  \r\n  return (\r\n    <div className={`${s.Sticker} ${mouseOver} ${studied}`} onMouseOver={onMouseOverHandler} onMouseLeave={onMouseLeaveHandler} onClick={onClickHandler}>\r\n      <div className={`${s.English} ${s.Part}`}>{sticker.content.English}</div>\r\n      <div className={`${s.Spelling} ${s.Part}`}>{sticker.content.Spelling}</div>\r\n      <div className={`${s.Russian} ${s.Part}`}>{sticker.content.Russian}</div>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Sticker;","import React, { Component } from 'react';\r\nimport s from './Stickers.module.css';\r\nimport Sticker from './Sticker/Sticker';\r\n\r\nconst pdfRef = React.createRef();\r\nconst countStickersInRow = 4;\r\n\r\nclass Stickers extends Component {\r\n\r\n  buildStickersPage() {\r\n    var stickers = this.props.stickers;\r\n\r\n    var stickersPage = [];\r\n    var stickersCounter = 0;\r\n    var stickersRow = [];\r\n\r\n    stickers.forEach(sticker => {\r\n      \r\n      stickersCounter++;\r\n      stickersRow.push(<Sticker sticker={sticker} onMouseOver={this.props.mouseOverSticker} onMouseLeave={this.props.mouseLeaveSticker}\r\n        onStudied={this.props.studiedSticker} />);\r\n\r\n      if (stickersRow.length == countStickersInRow || stickers.length - stickersCounter == 0) {\r\n        stickersPage.push(<div className={s.StickersRow}>{stickersRow}</div>);\r\n        stickersRow = [];\r\n      }\r\n    });\r\n\r\n    return stickersPage;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.updatePdf(pdfRef);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.main} >\r\n        <div className={s.pdfContent} ref = {pdfRef}>\r\n          {this.buildStickersPage()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Stickers;","import React, { Component } from 'react';\r\nimport preloader from './../../Assets/preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nclass Preloader extends Component {\r\n  render() {\r\n    return (\r\n      <div className={s.preloader}>\r\n        <img src={preloader} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Preloader;","import React, { Component } from 'react';\r\nimport Stickers from './Stickers'\r\nimport { updatePdf } from './../redux/stickers-reducer'\r\nimport { mouseOverSticker, mouseLeaveSticker, studiedSticker } from './../redux/stickers-reducer';\r\nimport { connect } from 'react-redux'\r\nimport { initialStickers } from './../redux/stickers-reducer';\r\nimport Preloader from './../Components/Preloader/Preloader.js'\r\nimport { getStickers } from './../redux/stickers-reducer';\r\nimport { getStickersSelector, getIsFetchingStickers } from './../redux/stickers-selectors'\r\nimport { getIsSignedIn } from './../redux/signin-selectors'\r\n\r\n\r\nclass StickersContainer extends Component {\r\n\r\n    render() {\r\n        if (this.props.isSignedIn && this.props.stickers.length === initialStickers.length && this.props.isFetchingStickers === false) {\r\n            this.props.getStickers();\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {this.props.isFetchingStickers ? <Preloader /> : <Stickers {...this.props} />}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        stickers: getStickersSelector(state),\r\n        isSignedIn: getIsSignedIn(state),\r\n        isFetchingStickers: getIsFetchingStickers(state),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    updatePdf,\r\n    mouseOverSticker,\r\n    mouseLeaveSticker,\r\n    studiedSticker,\r\n    getStickers\r\n})(StickersContainer);\r\n","import React from 'react';\r\nimport s from './List.module.css'\r\n\r\nconst List = props =>  {\r\n    const list = props.stickers.map((sticker, index) => {\r\n        return <div key={index}> {index}) {sticker.content.English} </div>\r\n      })\r\n      return <div className={s.main}> {list} </div>\r\n    }\r\n\r\n\r\nexport default List;","import React from 'react';\r\nimport List from './List'\r\nimport { connect } from 'react-redux'\r\nimport { getStickersSelector } from '../redux/stickers-selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        stickers: getStickersSelector(state)\r\n    }\r\n}\r\n\r\n\r\nconst ListContainer = connect(mapStateToProps, {})(List);\r\n\r\n\r\nexport default ListContainer;","import React, { Component } from 'react';\r\nimport s from './Phrasebooks.module.css'\r\nimport cs from './../Common.module.css';\r\n\r\nclass Phrasebooks extends Component {\r\n\r\n  renderFiles() {\r\n    var allPhrasebookFiles = this.props.phrasebookFilesTree.allPhrasebookFiles;\r\n    \r\n    if (allPhrasebookFiles && allPhrasebookFiles.length > 0) {\r\n      var filesList = [];\r\n      var latestPhrasebookFile = this.props.phrasebookFilesTree.latestPhrasebookFile;\r\n      filesList.push(<b>Latest created phrasebook file:</b>);\r\n      filesList.push(latestPhrasebookFile.name + ' (' + latestPhrasebookFile.id + ')' + ' Created:' + latestPhrasebookFile.createdTime + ' Modified:' + latestPhrasebookFile.modifiedTime);\r\n      filesList.push(<br/>);\r\n      filesList.push(<b>Phrasebook files:</b>);\r\n\r\n      if (allPhrasebookFiles && allPhrasebookFiles.length > 0) {\r\n        for (var i = 0; i < allPhrasebookFiles.length; i++) {\r\n          var file = allPhrasebookFiles[i];\r\n          filesList.push(file.name + ' (' + file.id + ')' + ' Created:' + file.createdTime + ' Modified:' + file.modifiedTime);\r\n        }\r\n      } else {\r\n        filesList.push('No files found.');\r\n      }\r\n\r\n      return filesList.map((item, index) => <div key={index}> {item} </div>);\r\n    }\r\n  }\r\n\r\n  onClikCleanPhrasebookFiles = () => {\r\n    this.props.cleanPhrasebookFiles(this.props.phrasebookFilesTree.allPhrasebookFiles);\r\n  }\r\n\r\n  render() {\r\n    return <div className={s.main}>\r\n      <p>\r\n        <div>\r\n          {this.renderFiles()}\r\n        </div>\r\n      </p>\r\n      <button className={`${cs.button} ${cs.remove}`} onClick={this.onClikCleanPhrasebookFiles}>Clean old phrasebook files</button>\r\n    </div>;\r\n  }\r\n}\r\n\r\n\r\nexport default Phrasebooks;","import { listFiles, cleanFiles, getLastCreatedFile } from './../API/GDriveAPI'\r\nconst UPDATE_FILES_LIST = 'UPDATE_FILES_LIST';\r\n\r\nvar initialState = {\r\n    phrasebookFilesTree: {\r\n        latestPhrasebookFile: '',\r\n        allPhrasebookFiles: []\r\n    }\r\n\r\n}\r\n\r\nconst gdriveReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case UPDATE_FILES_LIST:\r\n            return { ...state, phrasebookFilesTree: { ...state.phrasebookFilesTree, allPhrasebookFiles: action.allPhrasebookFiles, latestPhrasebookFile: action.latestPhrasebookFile } }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getPhrasebookFiles = () => {\r\n    return (dispatch) => {\r\n        listFiles((files) => {\r\n            var latest = getLastCreatedFile(files);\r\n            dispatch(updatePhrasebookFiles(files, latest));\r\n        });\r\n    }\r\n}\r\n\r\nexport const cleanPhrasebookFiles = (filesToClean) => {\r\n    return (dispatch) => {\r\n        cleanFiles(filesToClean);\r\n        listFiles((files) => {\r\n            var latest = getLastCreatedFile(files);\r\n            dispatch(updatePhrasebookFiles(files, latest));\r\n        });\r\n    }\r\n}\r\n\r\nexport const updatePhrasebookFiles = (allPhrasebookFiles, latestPhrasebookFile) => ({ type: UPDATE_FILES_LIST, allPhrasebookFiles: allPhrasebookFiles, latestPhrasebookFile: latestPhrasebookFile });\r\n\r\nexport default gdriveReducer;","export let getPhrasebookFilesTree = (state) =>{\r\n    return state.filesListPage.phrasebookFilesTree;\r\n}","import React, { Component } from 'react';\r\nimport Phrasebooks from './Phrasebooks'\r\nimport { getPhrasebookFiles, cleanPhrasebookFiles } from '../redux/gdrive-reducer'\r\nimport { connect } from 'react-redux'\r\nimport {getIsSignedIn} from './../redux/signin-selectors'\r\nimport { getPhrasebookFilesTree } from '../redux/phrasebooks';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        phrasebookFilesTree: getPhrasebookFilesTree(state),\r\n        isSignedIn: getIsSignedIn(state),\r\n    }\r\n}\r\n\r\nclass PhrasebookContainer extends Component {\r\n    render() {\r\n        if (this.props.isSignedIn && this.props.phrasebookFilesTree.allPhrasebookFiles.length === 0) {\r\n            this.props.getPhrasebookFiles();\r\n        }\r\n\r\n        return (\r\n            <Phrasebooks {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst PhrasebooksContainer = connect(mapStateToProps, { getPhrasebookFiles, cleanPhrasebookFiles })(PhrasebookContainer);\r\n\r\n\r\nexport default PhrasebooksContainer;","import React, { Component } from 'react';\r\nimport StickersContainer from './../Stickers/StickersContainer.js';\r\nimport ListContainer from './../List/ListContainer.js';\r\nimport Video from './../Video/Video.js';\r\nimport PhrasebooksContainer from './../Phrasebooks/PhrasebooksContainer.js';\r\nimport s from './Tabs.module.css';\r\nimport { Route, NavLink } from \"react-router-dom\";\r\n\r\nclass Tabs extends Component {\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div>\r\n        <div className={s.tabpanel}>\r\n          <div className={s.tab}>\r\n            <NavLink exact to={`/`} activeClassName={s.active}>Stickers</NavLink>\r\n          </div>\r\n          {/* <div className={s.tab}>\r\n            <NavLink to={`/video`} activeClassName={s.active}>How to use</NavLink>\r\n          </div> */}\r\n          <div className={s.tab}>\r\n            <NavLink to={`/list`} activeClassName={s.active}>Words list</NavLink>\r\n          </div>\r\n          <div className={s.tab}>\r\n            <NavLink to={`/phrasebooks`} activeClassName={s.active}>Phrasebooks list</NavLink>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={s.tabcontent}>\r\n          <Route exact path={`/`} render={() => <StickersContainer />} />\r\n          {/* <Route path={`/video`} component={Video} /> */}\r\n          <Route path={`/list`} render={() => <ListContainer />} />\r\n          <Route path={`/phrasebooks`} render={() => <PhrasebooksContainer />} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tabs;","import React, { Component } from 'react';\r\nimport Tabs from '../Tabs/Tabs';\r\nimport s from './Content.module.css'\r\n\r\n\r\nclass Content extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.content}>\r\n                <Tabs/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Content;","import React, { Component } from 'react';\r\nimport s from './Footer.module.css'\r\n\r\nclass Footer extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.footer}>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport s from './App.module.css';\r\nimport Header from './Header/Header.js';\r\nimport Navbar from './Navbar/Navbar.jsx';\r\nimport Content from './Content/Content.jsx';\r\nimport Footer from './Footer/Footer.jsx';\r\n\r\nclass App extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.app_wrapper}>\r\n        <Header />\r\n        <Navbar />\r\n        <Content />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport errorReducer from \"./error-reducer\";\r\nimport gdriveReducer from \"./gdrive-reducer\";\r\nimport spreadsheetReducer from \"./spreadsheet-reducer\";\r\nimport stickersReducer from \"./stickers-reducer\";\r\nimport signinReducer from \"./signin-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\nvar reducers = combineReducers({\r\n    errorPage: errorReducer,\r\n    spreadsheetPage: spreadsheetReducer,\r\n    stickersPage: stickersReducer,\r\n    filesListPage: gdriveReducer,\r\n    signInPage: signinReducer,\r\n    form: formReducer\r\n});\r\n\r\nvar store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport store from './redux/store-redux.js';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from 'react-redux'\r\n\r\nlet rerender = () => {\r\n  ReactDOM.render((\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  ),\r\n    document.getElementById('root')\r\n  );\r\n}\r\n\r\nstore.subscribe(() => {\r\n  rerender();\r\n});\r\n\r\nwindow.store = store;\r\nrerender();\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sticker\":\"Sticker_Sticker__18O0B\",\"MouseOver\":\"Sticker_MouseOver__uS5Fv\",\"Studied\":\"Sticker_Studied__5sE9e\",\"Part\":\"Sticker_Part__1Md_G\",\"English\":\"Sticker_English__3KKPt\",\"Spelling\":\"Sticker_Spelling__onSuR\",\"Russian\":\"Sticker_Russian__2ZdIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab\":\"Tabs_tab__n8gDC\",\"active\":\"Tabs_active__2uxTS\",\"tabpanel\":\"Tabs_tabpanel__2sNgA\",\"tabcontent\":\"Tabs_tabcontent__3bXO2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"ReadSpreadsheet_bar__2Xyy-\",\"floatRight\":\"ReadSpreadsheet_floatRight__3cII_\",\"form\":\"ReadSpreadsheet_form__oz1mO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__rp2E-\",\"error\":\"FormControls_error__1MO8a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"google_button\":\"SignInWithGoogle_google_button__2yngy\",\"google_button_icon\":\"SignInWithGoogle_google_button_icon__2UNNg\",\"google_button_icon_plus\":\"SignInWithGoogle_google_button_icon_plus__1-1H4\",\"google_button_text\":\"SignInWithGoogle_google_button_text__IjDLt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Stickers_main__K_8iZ\",\"StickersRow\":\"Stickers_StickersRow__25JhI\",\"pdfContent\":\"Stickers_pdfContent__pNC9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gsheet\":\"Video_gsheet__3wSFH\",\"main\":\"Video_main__1KM6a\",\"frame\":\"Video_frame__3UXx6\"};"],"sourceRoot":""}
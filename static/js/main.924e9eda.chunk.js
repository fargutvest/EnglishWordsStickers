(this.webpackJsonpEnglishWordsStickersJS=this.webpackJsonpEnglishWordsStickersJS||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={tab:"Tabs_tab__3BE3l",active:"Tabs_active__27WGd",tabpanel:"Tabs_tabpanel__Fqfgr",tabcontent:"Tabs_tabcontent__3n5e8"}},function(e,t,a){e.exports={button:"Common_button__1u9t6",remove:"Common_remove__1cXpQ"}},,,function(e,t,a){e.exports={Sticker:"Sticker_Sticker__i7hmE",Part:"Sticker_Part__1B8Av",English:"Sticker_English__2XJKu",Spelling:"Sticker_Spelling__f8StZ",Russian:"Sticker_Russian__2KHBH"}},,,,function(e,t,a){e.exports={google_button:"SignInWithGoogle_google_button__2ZKQU",google_button_icon:"SignInWithGoogle_google_button_icon__2OA3c",google_button_icon_plus:"SignInWithGoogle_google_button_icon_plus__1Ow7t",google_button_text:"SignInWithGoogle_google_button_text__2n6mO"}},,,,function(e,t,a){e.exports={main:"Stickers_main__27CKm",StickersRow:"Stickers_StickersRow__bHLtr"}},function(e,t,a){e.exports={gsheet:"GSheet_gsheet__1jXw5",main:"GSheet_main__6ZLgJ"}},,,,,,,,function(e,t,a){e.exports={app_wrapper:"App_app_wrapper__3BL9V"}},,function(e,t,a){e.exports={header:"Header_header__1w-1g"}},function(e,t,a){e.exports={errorBar:"ErrorBar_errorBar__3jkYZ"}},function(e,t,a){e.exports={navbar:"Navbar_navbar__1GJ9I"}},function(e,t,a){e.exports={main:"List_main__Jy8Yb"}},function(e,t,a){e.exports={main:"GDrive_main__6ep0k"}},,,function(e,t,a){e.exports={content:"Content_content__1isuH"}},function(e,t,a){e.exports={footer:"Footer_footer__1zU2p"}},,function(e,t,a){e.exports=a(58)},,,,,,,,function(e,t,a){e.exports={spreeedsheet_id:"ReadSpreadsheet_spreeedsheet_id__UlYFp"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(30),s=a.n(r),c=a(1),o=a(2),l=a(4),p=a(3),u=a(5),d=a(31),h=a.n(d),m=a(7),g=a(32),f=a.n(g),b=(a(51),a(11)),v=a.n(b),E={error:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ERROR":return e.error=t.newError,e;default:return e}},S={pdf:i.a.createRef(),stickers:[{English:"Hello1",Spelling:"spelling =)",Russian:"Privet"},{English:"Hello2",Spelling:"spelling =)",Russian:"Privet"},{English:"Hello3",Spelling:"spelling =)",Russian:"Privet"},{English:"Hello4",Spelling:"spelling =)",Russian:"Privet"}]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PDF":return e.pdf=t.newPdf,e;case"UPDATE_STICKERS":return e.stickers=t.newStickers,e;default:return e}},O={spreadseetId:localStorage.getItem("UPDATE_SPREADSHEET_ID")},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SPREADSHEET_ID":return e.spreadseetId=t.newSpreadseetId,localStorage.setItem("UPDATE_SPREADSHEET_ID",e.spreadseetId),e;default:return e}},w=a(21),I=function(e){for(var t=e.length,a=0;a<t-1;a++)for(var n=0;n<t-a-1;n++)if(Date.parse(e[n].createdTime)>Date.parse(e[n+1].createdTime)){var i=e[n];e[n]=e[n+1],e[n+1]=i}return e},C=function(e){var t=I(e);return t[t.length-1]},y=function(e){var t;window.gapi.client.drive.files.list((t={pageSize:100,q:"mimeType='application/vnd.google-apps.spreadsheet'"},Object(w.a)(t,"q","name='".concat("Saved translations","' or name='").concat("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b","'")),Object(w.a)(t,"fields","nextPageToken, files(id, name, createdTime, modifiedTime)"),t)).then((function(t){e(t.result.files)}))};y=y.bind(void 0),I=I.bind(void 0);var P=i.a.createRef(),N={orientation:"landscape"},T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).readSuccess=a.readSuccess.bind(Object(m.a)(a)),a.showError=a.showError.bind(Object(m.a)(a)),a.handleReadSpreadsheetClick=a.handleReadSpreadsheetClick.bind(Object(m.a)(a)),a.handleGetNewestSpreadsheetIdClick=a.handleGetNewestSpreadsheetIdClick.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleGetNewestSpreadsheetIdClick",value:function(){var e=this;y((function(t){var a=C(t);e.props.dispatch({type:"UPDATE_SPREADSHEET_ID",newSpreadseetId:a.id})}))}},{key:"handleReadSpreadsheetClick",value:function(){var e,t,a,n=this;e=P.current.value,t=this.readSuccess,a=function(e){n.showError("Error"+e)},window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:"C:D"}).then((function(e){t(e.result.values)}),(function(e){a(e.result.error.message)}))}},{key:"readSuccess",value:function(e){this.showError(e.length>0?"":"No data found.");var t=e.map((function(e){return{English:e[0],Spelling:"---",Russian:e[1]}}));this.props.dispatch({type:"UPDATE_STICKERS",newStickers:t})}},{key:"getSnapshotBeforeUpdate",value:function(){this.props.spreadseetId&&(P.current.value=this.props.spreadseetId)}},{key:"showError",value:function(e){this.props.dispatch({type:"UPDATE_ERROR",newError:e})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("table",{width:"100%"},i.a.createElement("tr",null,i.a.createElement("td",{width:"58%"},i.a.createElement("label",{className:"w3-text-blue"},i.a.createElement("b",null,"Phrasebook ID:")),i.a.createElement("input",{className:"w3-input w3-border",ref:P,type:"text",size:"100"})),i.a.createElement("td",{width:"12%"},i.a.createElement("button",{id:"read_spreadsheet",className:v.a.button,onClick:this.handleGetNewestSpreadsheetIdClick},"Get newest phrasebook ID")),i.a.createElement("td",{width:"12%"},i.a.createElement("button",{id:"read_spreadsheet",className:v.a.button,onClick:this.handleReadSpreadsheetClick},"Read specified phrasebook")),i.a.createElement("td",{width:"12%"},i.a.createElement(f.a,{id:"id_pdf",targetRef:this.props.pdf,filename:"stickers.pdf",options:N,x:2,y:2},(function(e){var t=e.toPdf;return i.a.createElement("button",{id:"pdf",className:v.a.button,onClick:t},"Dowdload stickers in pdf")}))))))}}]),t}(n.Component),D=a(33),A=a.n(D),R=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:A.a.header},i.a.createElement(T,{spreadseetId:this.props.spreadseetId,pdf:this.props.pdf,dispatch:this.props.dispatch}))}}]),t}(n.Component),L=a(18),x=a.n(L),G={isSignedIn:!1,profile:""},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_IS_SIGNED_IN":return e.isSignedIn=t.isSignedIn,e;case"UPDATE_PROFILE":return e.profile=t.profile,e;default:return e}},U="722524747087-sgjsjequa1sv10c8m3g9fl6gtqoa39eg.apps.googleusercontent.com",B="AIzaSyANRAmPJFTjvI2lxfJpq82rd4SHtpBdKY0",H=["https://sheets.googleapis.com/$discovery/rest?version=v4","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).initClient=a.initClient.bind(Object(m.a)(a)),a.updateSigninStatus=a.updateSigninStatus.bind(Object(m.a)(a)),a.initClientSuccess=a.initClientSuccess.bind(Object(m.a)(a)),a.initClientFail=a.initClientFail.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"updateLocalStorage",value:function(){localStorage.setItem("CLIENT_ID",U),localStorage.setItem("API_KEY",B)}},{key:"initClient",value:function(){this.updateLocalStorage(),window.gapi.client.init({apiKey:B,clientId:U,discoveryDocs:H,scope:"https://www.googleapis.com/auth/drive.metadata"}).then(this.initClientSuccess,this.initClientFail)}},{key:"initClientSuccess",value:function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus),this.updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get()),this.props.updateError("")}},{key:"initClientFail",value:function(e){this.props.updateError(JSON.stringify(e,null,2))}},{key:"updateSigninStatus",value:function(e){var t;e&&(t=window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile(),console.log(t));this.props.dispath(function(e){return{type:"UPDATE_PROFILE",profile:e}}(t)),this.props.dispath(function(e){return{type:"UPDATE_IS_SIGNED_IN",isSignedIn:e}}(e))}},{key:"handleSigninClick",value:function(){window.gapi.auth2.getAuthInstance().signIn()}},{key:"handleSignoutClick",value:function(e){window.gapi.auth2.getAuthInstance().signOut()}},{key:"componentDidMount",value:function(){window.gapi.load("client:auth2",this.initClient)}},{key:"getButton",value:function(){var e=i.a.createElement("button",{type:"button",className:x.a.google_button,onClick:this.handleSigninClick},i.a.createElement("span",{class:x.a.google_button_icon},i.a.createElement("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),i.a.createElement("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),i.a.createElement("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),i.a.createElement("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"}))),i.a.createElement("span",{class:x.a.google_button_text},"Sign in with Google")),t=i.a.createElement("button",{className:v.a.button,onClick:this.handleSignoutClick},"Sign Out");return this.props.isSignedIn?t:e}},{key:"getUserInfo",value:function(){return this.props.profile?i.a.createElement("div",null,i.a.createElement("label",{className:"w3-text-white"},this.props.profile.getName()),i.a.createElement("p",{align:"center"},i.a.createElement("img",{width:"50px",height:"50px",alt:"Avatar",src:this.props.profile.getImageUrl()}))):""}},{key:"render",value:function(){return i.a.createElement("div",{align:"center"},this.getUserInfo(),i.a.createElement("p",null,this.getButton()))}}]),t}(n.Component),K=a(34),q=a.n(K),M=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:q.a.errorBar},i.a.createElement("p",{align:"center"},this.props.error))}}]),t}(n.Component),W=a(35),z=a.n(W),Z=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:z.a.navbar},i.a.createElement("p",{align:"center"},i.a.createElement(J,{isSignedIn:this.props.isSignedIn,profile:this.props.profile,dispath:this.props.dispath}),i.a.createElement("p",null,i.a.createElement(M,{error:this.props.error}))))}}]),t}(n.Component),Y=a(22),X=a.n(Y),Q=a(14),V=a.n(Q),$=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:V.a.Sticker},i.a.createElement("div",{className:"".concat(V.a.English," ").concat(V.a.Part)},this.props.data.English),i.a.createElement("div",{className:"".concat(V.a.Spelling," ").concat(V.a.Part)},this.props.data.Spelling),i.a.createElement("div",{className:"".concat(V.a.Russian," ").concat(V.a.Part)},this.props.data.Russian))}}]),t}(n.Component),ee=i.a.createRef(),te=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"buildStickersPage",value:function(){var e=this.props.stickers,t=[],a=0,n=[];return e.forEach((function(r){a++,n.push(i.a.createElement($,{data:r})),5!=n.length&&e.length-a!=0||(t.push(i.a.createElement("div",{className:X.a.StickersRow},n)),n=[])})),t}},{key:"componentDidMount",value:function(){this.props.dispatch({type:"UPDATE_PDF",newPdf:ee})}},{key:"render",value:function(){return i.a.createElement("div",{className:X.a.main,ref:ee},this.buildStickersPage())}}]),t}(n.Component),ae=a(36),ne=a.n(ae),ie=function(e){var t=e.stickers.map((function(e,t){return i.a.createElement("div",{key:t}," ",t,") ",e.English," ")}));return i.a.createElement("div",{className:ne.a.main}," ",t," ")},re=a(23),se=a.n(re),ce=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:se.a.main},i.a.createElement("iframe",{className:se.a.gsheet,src:"https://docs.google.com/spreadsheets/d/e/2PACX-1vT-ytLL4ZqRuAngT0EkfBusGoWnuVwFu_hTt_k55oCoKN8mZxBwCskoit2s8F0gC5vT_aMFpj0OLCvI/pubhtml?widget=true&headers=true"}))}}]),t}(n.Component),oe=a(37),le=a.n(oe),pe={filesList:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILES_LIST":return e.filesList=t.newFilesList,e;default:return e}},de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClickGetPhrasebook=a.onClickGetPhrasebook.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderFiles",value:function(){if(this.props.filesList&&this.props.filesList.length>0){var e=C(this.props.filesList),t=[];t.push("Last created phrasebook file:"),t.push(e.name+" ("+e.id+") Created:"+e.createdTime+" Modified:"+e.modifiedTime),t.push("."),t.push("Phrasebook files:");var a=this.props.filesList;if(a&&a.length>0)for(var n=0;n<a.length;n++){var r=a[n];t.push(r.name+" ("+r.id+") Created:"+r.createdTime+" Modified:"+r.modifiedTime)}else t.push("No files found.");return t.map((function(e,t){return i.a.createElement("div",{key:t}," ",e," ")}))}}},{key:"onClickGetPhrasebook",value:function(){var e=this;y((function(t){e.props.dispatch({type:"UPDATE_FILES_LIST",newFilesList:t})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:le.a.main},i.a.createElement("button",{className:v.a.button,onClick:this.onClickGetPhrasebook},"Get phrasebook files"),i.a.createElement("button",{className:"".concat(v.a.button," ").concat(v.a.remove),onClick:this.cleanFiles},"Clean old phrasebook files"),i.a.createElement("p",null,i.a.createElement("div",null,this.renderFiles())))}}]),t}(n.Component),he=a(10),me=a.n(he),ge=a(16),fe=a(13),be="/EnglishWordsStickersJS",ve=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(ge.a,null,i.a.createElement("div",null,i.a.createElement("div",{className:me.a.tabpanel},i.a.createElement("div",{className:me.a.tab},i.a.createElement(ge.b,{exact:!0,to:"".concat(be,"/"),activeClassName:me.a.active},"Stickers")),i.a.createElement("div",{className:me.a.tab},i.a.createElement(ge.b,{to:"".concat(be,"/list"),activeClassName:me.a.active},"List")),i.a.createElement("div",{className:me.a.tab},i.a.createElement(ge.b,{to:"".concat(be,"/gsheet"),activeClassName:me.a.active},"GSheet")),i.a.createElement("div",{className:me.a.tab},i.a.createElement(ge.b,{to:"".concat(be,"/gdriveapi"),activeClassName:me.a.active},"GDriveAPI"))),i.a.createElement("div",{className:me.a.tabcontent},i.a.createElement(fe.a,{exact:!0,path:"".concat(be,"/"),render:function(){return i.a.createElement(te,{stickers:e.props.stickers,dispatch:e.props.dispatch})}}),i.a.createElement(fe.a,{path:"".concat(be,"/list"),render:function(){return i.a.createElement(ie,{stickers:e.props.stickers})}}),i.a.createElement(fe.a,{path:"".concat(be,"/gsheet"),component:ce}),i.a.createElement(fe.a,{path:"".concat(be,"/gdriveapi"),render:function(){return i.a.createElement(de,{filesList:e.props.filesList,dispatch:e.props.dispatch})}}))))}}]),t}(n.Component),Ee=a(40),_e=a.n(Ee),Se=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:_e.a.content},i.a.createElement(ve,{filesList:this.props.filesList,stickers:this.props.stickers,dispatch:this.props.dispatch}))}}]),t}(n.Component),ke=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("a",{href:"https://developers.google.com/sheets/api/quickstart/js"},"https://developers.google.com/sheets/api/quickstart/js")}}]),t}(n.Component),Oe=a(41),je=a.n(Oe),we=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:je.a.footer},i.a.createElement(ke,null))}}]),t}(n.Component),Ie=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:h.a.app_wrapper},i.a.createElement(R,{spreadseetId:this.props.state.spreadsheetPage.spreadseetId,pdf:this.props.state.stickersPage.pdf,dispatch:this.props.dispatch}),i.a.createElement(Z,{isSignedIn:this.props.state.signInPage.isSignedIn,profile:this.props.state.signInPage.profile,error:this.props.state.errorPage.error,dispath:this.props.dispatch}),i.a.createElement(Se,{stickers:this.props.state.stickersPage.stickers,filesList:this.props.state.filesListPage.filesList,dispatch:this.props.dispatch}),i.a.createElement(we,null))}}]),t}(n.Component),Ce=(a(56),a(26)),ye=Object(Ce.a)({errorPage:_,spreadsheetPage:j,stickersPage:k,filesListPage:ue,signInPage:F}),Pe=Object(Ce.b)(ye),Ne=function(e){s.a.render(i.a.createElement(Ie,{state:e,dispatch:Pe.dispatch.bind(Pe)}),document.getElementById("root"))};Pe.subscribe((function(){var e=Pe.getState();Ne(e)})),Ne(Pe.getState())}],[[43,1,2]]]);
//# sourceMappingURL=main.924e9eda.chunk.js.map
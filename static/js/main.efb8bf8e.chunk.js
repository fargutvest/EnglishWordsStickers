(this.webpackJsonpEnglishWordsStickersJS=this.webpackJsonpEnglishWordsStickersJS||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={tab:"Tabs_tab__3BE3l",active:"Tabs_active__27WGd",tabpanel:"Tabs_tabpanel__Fqfgr",tabcontent:"Tabs_tabcontent__3n5e8"}},function(e,t,a){e.exports={button:"Common_button__1u9t6",remove:"Common_remove__1cXpQ"}},,,function(e,t,a){e.exports={Sticker:"Sticker_Sticker__i7hmE",Part:"Sticker_Part__1B8Av",English:"Sticker_English__2XJKu",Spelling:"Sticker_Spelling__f8StZ",Russian:"Sticker_Russian__2KHBH"}},,,,function(e,t,a){e.exports={google_button:"SignInWithGoogle_google_button__2ZKQU",google_button_icon:"SignInWithGoogle_google_button_icon__2OA3c",google_button_icon_plus:"SignInWithGoogle_google_button_icon_plus__1Ow7t",google_button_text:"SignInWithGoogle_google_button_text__2n6mO"}},,,function(e,t,a){e.exports={gsheet:"GSheet_gsheet__1jXw5",main:"GSheet_main__6ZLgJ"}},,,,,,,function(e,t,a){e.exports={app_wrapper:"App_app_wrapper__3BL9V"}},,function(e,t,a){e.exports={header:"Header_header__1w-1g"}},function(e,t,a){e.exports={errorBar:"ErrorBar_errorBar__3jkYZ"}},function(e,t,a){e.exports={navbar:"Navbar_navbar__1GJ9I"}},function(e,t,a){e.exports={main:"Stickers_main__27CKm"}},function(e,t,a){e.exports={main:"List_main__Jy8Yb"}},function(e,t,a){e.exports={main:"GDriveAPI_main__2Zzf0"}},,,function(e,t,a){e.exports={content:"Content_content__1isuH"}},function(e,t,a){e.exports={footer:"Footer_footer__1zU2p"}},function(e,t,a){e.exports=a(54)},,,,,,,,function(e,t,a){e.exports={spreeedsheet_id:"ReadSpreadsheet_spreeedsheet_id__UlYFp"}},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(27),r=a.n(s),c=a(1),o=a(2),l=a(4),p=a(3),u=a(5),d=a(28),h=a.n(d),m=a(7),f=a(29),g=a.n(f),b=(a(48),a(11)),E=a.n(b),_=function(e){return{type:"UPDATE_ERROR",newError:e}},v=function(e,t){switch(t.type){case"UPDATE_ERROR":return e.error=t.newError,e;default:return e}},S=function(e,t){switch(t.type){case"UPDATE_PDF":return e.pdf=t.newPdf,e;case"UPDATE_STICKERS":return e.stickers=t.newStickers,e;default:return e}},k=a(20),O=function(e,t){switch(t.type){case"UPDATE_SPREADSHEET_ID":return e.spreadseetId=t.newSpreadseetId,e;default:return e}},j=function(e,t){switch(t.type){case"UPDATE_FILES_LIST":return e.filesList=t.newFilesList,e;default:return e}},w="",C=function(e){for(var t=e.length,a=0;a<t-1;a++)for(var n=0;n<t-a-1;n++)if(Date.parse(e[n].createdTime)>Date.parse(e[n+1].createdTime)){var i=e[n];e[n]=e[n+1],e[n+1]=i}return e},I=function(e){var t=e.result.files,a=C(t),n=a[a.length-1];w({type:"UPDATE_SPREADSHEET_ID",newSpreadseetId:n.id}),w({type:"UPDATE_FILES_LIST",newFilesList:t})},y=function(e){var t;w=e,window.gapi.client.drive.files.list((t={pageSize:100,q:"mimeType='application/vnd.google-apps.spreadsheet'"},Object(k.a)(t,"q","name='".concat("Saved translations","' or name='").concat("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b","'")),Object(k.a)(t,"fields","nextPageToken, files(id, name, createdTime, modifiedTime)"),t)).then(I)};y=y.bind(void 0),I=I.bind(void 0),C=C.bind(void 0);var N=i.a.createRef(),P={orientation:"landscape"},T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).getSuccess=a.getSuccess.bind(Object(m.a)(a)),a.getFail=a.getFail.bind(Object(m.a)(a)),a.handleReadSpreadsheetClick=a.handleReadSpreadsheetClick.bind(Object(m.a)(a)),a.handleReadNewestSpreadsheetClick=a.handleReadNewestSpreadsheetClick.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleReadSpreadsheetClick",value:function(){this.updateLocalStorage(),window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:N.current.value,range:"C:D"}).then(this.getSuccess,this.getFail)}},{key:"handleReadNewestSpreadsheetClick",value:function(){y(this.props.dispatch)}},{key:"getSuccess",value:function(e){var t=e.result.values,a=[];if(t.length>0){for(var n=0;n<t.length;n++){var i=t[n];a.push(i)}this.props.dispatch(_(""))}else this.props.dispatch(_("No data found."));var s=[],r=0,c=0,o=[];a.forEach((function(e){if(r++,c++,o.push({English:e[0],Spelling:"---",Russian:e[1]}),4==r||a.length-c==0){var t=4-o.length;if(t>0)for(var n=0;n<t;n++)o.push({English:"---",Spelling:"---",Russian:"---"});s.push(o),o=[],r=0}})),this.props.dispatch(function(e){return{type:"UPDATE_STICKERS",newStickers:e}}(s))}},{key:"getFail",value:function(e){this.props.dispatch(_("Error: "+e.result.error.message))}},{key:"updateLocalStorage",value:function(){localStorage.setItem("SPREADSHEET_ID",N.current.value)}},{key:"getSnapshotBeforeUpdate",value:function(){this.props.spreadseetId&&(N.current.value=this.props.spreadseetId)}},{key:"componentDidMount",value:function(){N.current.value=localStorage.getItem("SPREADSHEET_ID")}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("table",{width:"100%"},i.a.createElement("tr",null,i.a.createElement("td",{width:"58%"},i.a.createElement("label",{className:"w3-text-blue"},i.a.createElement("b",null,"Phrasebook ID:")),i.a.createElement("input",{className:"w3-input w3-border",ref:N,type:"text",size:"100"})),i.a.createElement("td",{width:"12%"},i.a.createElement("button",{id:"read_spreadsheet",className:E.a.button,onClick:this.handleReadSpreadsheetClick},"Read specified phrasebook")),i.a.createElement("td",{width:"12%"},i.a.createElement("button",{id:"read_spreadsheet",className:E.a.button,onClick:this.handleReadNewestSpreadsheetClick},"Get newest phrasebook ID")),i.a.createElement("td",{width:"12%"},i.a.createElement(g.a,{id:"id_pdf",targetRef:this.props.pdf,filename:"stickers.pdf",options:P,x:2,y:2},(function(e){var t=e.toPdf;return i.a.createElement("button",{id:"pdf",className:E.a.button,onClick:t},"Dowdload stickers in pdf")}))))))}}]),t}(n.Component),R=a(30),D=a.n(R),A=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:D.a.header},i.a.createElement(T,{spreadseetId:this.props.spreadseetId,pdf:this.props.pdf,dispatch:this.props.dispatch}))}}]),t}(n.Component),x=a(18),L=a.n(x),F=function(e,t){switch(t.type){case"UPDATE_IS_SIGNED_IN":return e.isSignedIn=t.isSignedIn,e;case"UPDATE_PROFILE":return e.profile=t.profile,e;default:return e}},U="722524747087-sgjsjequa1sv10c8m3g9fl6gtqoa39eg.apps.googleusercontent.com",G="AIzaSyANRAmPJFTjvI2lxfJpq82rd4SHtpBdKY0",B=["https://sheets.googleapis.com/$discovery/rest?version=v4","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).initClient=a.initClient.bind(Object(m.a)(a)),a.updateSigninStatus=a.updateSigninStatus.bind(Object(m.a)(a)),a.initClientSuccess=a.initClientSuccess.bind(Object(m.a)(a)),a.initClientFail=a.initClientFail.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"updateLocalStorage",value:function(){localStorage.setItem("CLIENT_ID",U),localStorage.setItem("API_KEY",G)}},{key:"initClient",value:function(){this.updateLocalStorage(),window.gapi.client.init({apiKey:G,clientId:U,discoveryDocs:B,scope:"https://www.googleapis.com/auth/drive.metadata"}).then(this.initClientSuccess,this.initClientFail)}},{key:"initClientSuccess",value:function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus),this.updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get()),this.props.updateError("")}},{key:"initClientFail",value:function(e){this.props.updateError(JSON.stringify(e,null,2))}},{key:"updateSigninStatus",value:function(e){var t;e&&(t=window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile(),console.log(t));this.props.dispath(function(e){return{type:"UPDATE_PROFILE",profile:e}}(t)),this.props.dispath(function(e){return{type:"UPDATE_IS_SIGNED_IN",isSignedIn:e}}(e))}},{key:"handleSigninClick",value:function(){window.gapi.auth2.getAuthInstance().signIn()}},{key:"handleSignoutClick",value:function(e){window.gapi.auth2.getAuthInstance().signOut()}},{key:"componentDidMount",value:function(){window.gapi.load("client:auth2",this.initClient)}},{key:"getButton",value:function(){var e=i.a.createElement("button",{type:"button",className:L.a.google_button,onClick:this.handleSigninClick},i.a.createElement("span",{class:L.a.google_button_icon},i.a.createElement("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),i.a.createElement("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),i.a.createElement("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),i.a.createElement("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"}))),i.a.createElement("span",{class:L.a.google_button_text},"Sign in with Google")),t=i.a.createElement("button",{className:E.a.button,onClick:this.handleSignoutClick},"Sign Out");return this.props.isSignedIn?t:e}},{key:"getUserInfo",value:function(){return this.props.profile?i.a.createElement("div",null,i.a.createElement("label",{className:"w3-text-white"},this.props.profile.getName()),i.a.createElement("p",{align:"center"},i.a.createElement("img",{width:"50px",height:"50px",alt:"Avatar",src:this.props.profile.getImageUrl()}))):""}},{key:"render",value:function(){return i.a.createElement("div",{align:"center"},this.getUserInfo(),i.a.createElement("p",null,this.getButton()))}}]),t}(n.Component),J=a(31),K=a.n(J),M=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:K.a.errorBar},i.a.createElement("p",{align:"center"},this.props.error))}}]),t}(n.Component),q=a(32),z=a.n(q),W=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:z.a.navbar},i.a.createElement("p",{align:"center"},i.a.createElement(H,{isSignedIn:this.props.isSignedIn,profile:this.props.profile,dispath:this.props.dispath}),i.a.createElement("p",null,i.a.createElement(M,{error:this.props.error}))))}}]),t}(n.Component),Z=a(33),Y=a.n(Z),X=a(14),Q=a.n(X),V=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:Q.a.Sticker},i.a.createElement("div",{className:"".concat(Q.a.English," ").concat(Q.a.Part)},this.props.data.English),i.a.createElement("div",{className:"".concat(Q.a.Spelling," ").concat(Q.a.Part)},this.props.data.Spelling),i.a.createElement("div",{className:"".concat(Q.a.Russian," ").concat(Q.a.Part)},this.props.data.Russian))}}]),t}(n.Component),$=i.a.createRef(),ee=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getRows",value:function(){return this.props.stickers.map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,i.a.createElement(V,{data:e[0]})),i.a.createElement("td",null,i.a.createElement(V,{data:e[1]})),i.a.createElement("td",null,i.a.createElement(V,{data:e[2]})),i.a.createElement("td",null,i.a.createElement(V,{data:e[3]})))}))}},{key:"componentDidMount",value:function(){this.props.dispatch({type:"UPDATE_PDF",newPdf:$})}},{key:"render",value:function(){return i.a.createElement("div",{className:Y.a.main,ref:$},i.a.createElement("tbody",null,this.getRows()))}}]),t}(n.Component),te=a(34),ae=a.n(te),ne=function(e){var t=0,a=e.stickers.map((function(e,a){var n=e.map((function(e,a){return i.a.createElement("div",{key:a}," ",++t,") ",e.English," ")}));return i.a.createElement("div",{key:a}," ",n," ")}));return i.a.createElement("div",{className:ae.a.main}," ",a," ")},ie=a(21),se=a.n(ie),re=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:se.a.main},i.a.createElement("iframe",{className:se.a.gsheet,src:"https://docs.google.com/spreadsheets/d/e/2PACX-1vT-ytLL4ZqRuAngT0EkfBusGoWnuVwFu_hTt_k55oCoKN8mZxBwCskoit2s8F0gC5vT_aMFpj0OLCvI/pubhtml?widget=true&headers=true"}))}}]),t}(n.Component),ce=a(35),oe=a.n(ce),le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClickGetPhrasebook=a.onClickGetPhrasebook.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderFiles",value:function(){if(this.props.filesList&&this.props.filesList.length>0){var e=C(this.props.filesList),t=e[e.length-1],a=[];if(a.push("File with max createdTime:"),a.push(t.name+" ("+t.id+") Created:"+t.createdTime+" Modified:"+t.modifiedTime),a.push("."),a.push("All gsheet files:"),e&&e.length>0)for(var n=0;n<e.length-1;n++){var s=e[n];a.push(s.name+" ("+s.id+") Created:"+s.createdTime+" Modified:"+s.modifiedTime)}else a.push("No files found.");return a.map((function(e,t){return i.a.createElement("div",{key:t}," ",e," ")}))}}},{key:"onClickGetPhrasebook",value:function(){y(this.props.dispatch)}},{key:"render",value:function(){return i.a.createElement("div",{className:oe.a.main},i.a.createElement("button",{className:E.a.button,onClick:this.onClickGetPhrasebook},"Get phrasebook files"),i.a.createElement("button",{className:"".concat(E.a.button," ").concat(E.a.remove),onClick:this.cleanFiles},"Clean old phrasebook files"),i.a.createElement("p",null,i.a.createElement("div",null,this.renderFiles())))}}]),t}(n.Component),pe=a(10),ue=a.n(pe),de=a(16),he=a(13),me=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(de.a,null,i.a.createElement("div",null,i.a.createElement("div",{className:ue.a.tabpanel},i.a.createElement("div",{className:ue.a.tab},i.a.createElement(de.b,{exact:!0,to:"/",activeClassName:ue.a.active},"Stickers")),i.a.createElement("div",{className:ue.a.tab},i.a.createElement(de.b,{to:"/list",activeClassName:ue.a.active},"List")),i.a.createElement("div",{className:ue.a.tab},i.a.createElement(de.b,{to:"/gsheet",activeClassName:ue.a.active},"GSheet")),i.a.createElement("div",{className:ue.a.tab},i.a.createElement(de.b,{to:"/gdriveapi",activeClassName:ue.a.active},"GDriveAPI"))),i.a.createElement("div",{className:ue.a.tabcontent},i.a.createElement(he.a,{exact:!0,path:"/",render:function(){return i.a.createElement(ee,{stickers:e.props.stickers,dispatch:e.props.dispatch})}}),i.a.createElement(he.a,{path:"/list",render:function(){return i.a.createElement(ne,{stickers:e.props.stickers})}}),i.a.createElement(he.a,{path:"/gsheet",component:re}),i.a.createElement(he.a,{path:"/gdriveapi",render:function(){return i.a.createElement(le,{filesList:e.props.filesList,dispatch:e.props.dispatch})}}))))}}]),t}(n.Component),fe=a(38),ge=a.n(fe),be=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:ge.a.content},i.a.createElement(me,{filesList:this.props.filesList,stickers:this.props.stickers,dispatch:this.props.dispatch}))}}]),t}(n.Component),Ee=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("a",{href:"https://developers.google.com/sheets/api/quickstart/js"},"https://developers.google.com/sheets/api/quickstart/js")}}]),t}(n.Component),_e=a(39),ve=a.n(_e),Se=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:ve.a.footer},i.a.createElement(Ee,null))}}]),t}(n.Component),ke=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:h.a.app_wrapper},i.a.createElement(A,{spreadseetId:this.props.state.spreadseetId,pdf:this.props.state.pdf,dispatch:this.props.dispatch}),i.a.createElement(W,{isSignedIn:this.props.state.isSignedIn,profile:this.props.state.profile,error:this.props.state.error,dispath:this.props.dispatch}),i.a.createElement(be,{stickers:this.props.state.stickers,filesList:this.props.state.filesList,dispatch:this.props.dispatch}),i.a.createElement(Se,null))}}]),t}(n.Component),Oe=(a(53),{_state:{stickers:[[{English:"Hello1",Spelling:"spelling =)",Russian:"Privet"},{English:"Hello2",Spelling:"spelling =)",Russian:"Privet"},{English:"Hello3",Spelling:"spelling =)",Russian:"Privet"},{English:"Hello4",Spelling:"spelling =)",Russian:"Privet"}]],pdf:i.a.createRef(),spreadseetId:"",error:"",filesList:[],isSignedIn:!1,profile:""},getState:function(){return this._state},subscribe:function(e){this.rerender=e},rerender:function(){console.log("State changed")},dispatch:function(e){this._state=j(this._state,e),this._state=v(this._state,e),this._state=O(this._state,e),this._state=F(this._state,e),this._state=S(this._state,e),this.rerender(this._state)}}),je=function(){r.a.render(i.a.createElement(ke,{state:Oe.getState(),dispatch:Oe.dispatch.bind(Oe)}),document.getElementById("root"))};Oe.subscribe(je),je(Oe.getState())}],[[40,1,2]]]);
//# sourceMappingURL=main.efb8bf8e.chunk.js.map